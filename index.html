<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dayita AI â€“ Catalogue Brain</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{
background:#343541;
font-family:Segoe UI;
color:white;
margin:0;
}
.chat{
height:80vh;
overflow:auto;
padding:20px;
}
.msg{
margin:15px 0;
display:flex;
gap:10px;
}
.user{color:#9cdcfe}
.bot{color:#dcdcaa}
.inputbox{
position:fixed;
bottom:0;
width:100%;
background:#40414f;
padding:15px;
display:flex;
gap:10px;
}
input{
flex:1;
padding:15px;
font-size:16px;
background:#343541;
color:white;
border:1px solid #555;
border-radius:8px;
}
button{
padding:15px 25px;
background:#10a37f;
border:none;
color:white;
border-radius:8px;
cursor:pointer;
}
</style>

</head>

<body>

<div class="chat" id="chat"></div>

<div class="inputbox">
<input id="q" placeholder="Ask product name, AWS code, material..." />
<button onclick="ask()">Ask</button>
</div>

<script>
let db=[];

// LOAD FULL CATALOGUE AI
fetch("products_ai.json")
.then(r=>r.json())
.then(d=>{
db=d;
console.log("AI Loaded:",db.length,"products");
});

// ADD MESSAGE
function add(t,cls){
let d=document.createElement("div");
d.className="msg "+cls;
d.innerHTML=t.replace(/\n/g,"<br>");
document.getElementById("chat").appendChild(d);
window.scrollTo(0,document.body.scrollHeight);
}

// ASK
function ask(){
let q=document.getElementById("q").value.trim();
if(!q) return;
add("ðŸ§‘ "+q,"user");
document.getElementById("q").value="";

setTimeout(()=>{
let r=search(q);
add("ðŸ¤– "+r,"bot");
},300);
}

// SEARCH ENGINE
function search(q){
q=q.toLowerCase();

if(db.length===0) return "AI still loading catalogue...";

let res=db.filter(p=>
p.product_name.toLowerCase().includes(q) ||
p.content.toLowerCase().includes(q)
);

if(res.length===0) return "No product found in catalogue.";

let out="Found "+res.length+" result(s):\n\n";

res.slice(0,5).forEach(p=>{
out+="ðŸ”¹ "+p.product_name+"\nPage: "+p.page+"\n\n";
});

return out;
}
</script>

</body>
</html>
